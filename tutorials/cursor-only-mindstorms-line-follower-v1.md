## מינדסטורמס: Line Follower v1 — בנייה עם Cursor בלבד (ללא הקלדת קוד)

מטרה: לגרום ל‑Cursor לייצר קוד ומבנה מלא למעקב קו בגרסת v1: כיול רפלקטנס, בקר Threshold (bang‑bang), ואז תיקון פרופורציונלי (Kp).

סביבה: SPIKE Prime/Robot Inventor Python (אפשר להתאים ל‑EV3 MicroPython בפרומפטים דומים).

### שלב 1 — כיול וחישוב סף

הדביקו לצ׳אט של Cursor:

```
צר/י קובץ `line_follower/calibrate.py` שקורא רפלקטנס מעל לבן ואז מעל שחור,
מדפיס ערכים, ומחשב T=(white+black)/2. הוסף/י הנחיות תצוגה קצרות בקונסול.
```

בדיקה: לבן > שחור; אם קרובים מדי — לבקש הנמכת חיישן/הצללה.

### שלב 2 — בקר סף (bang‑bang)

הדביקו:

```
צר/י קובץ `line_follower/bang_bang.py` שמגדיר base_speed, קורא חיישן, ואם r<T — פנה ימינה, אחרת שמאלה.
הוסף/י פרמטרים נוחים לכיוון (steering, speed) בראש הקובץ.
```

בדיקה: עקיבה רועדת אך עובדת. בקשו מ‑Cursor הצעות טיוב לפניות/מהירות.

### שלב 3 — תיקון פרופורציונלי (Kp)

הדביקו:

```
צר/י קובץ `line_follower/proportional.py` שמחשב e=r-T ו‑turn=Kp*e, כולל clamp ל‑±100.
הוסף/י הערות טיוב: אם מתנודד — להקטין Kp/מהירות; אם נסחף — להגדיל Kp מעט.
```

בדיקה: עקיבה חלקה יותר.

### שלב 4 — התאוששות מאיבוד קו (אופציונלי)

הדביקו:

```
הוסף/י ל‑`proportional.py` זיהוי יציאה מהקו ל‑>300ms (ערך קצה), עצירה וסריקה איטית להשבה לקו.
```

### נקודות בדיקה (Acceptance)

- כיול מניב T סביר וערכי r עקביים.
- bang‑bang עוקב קצה.
- proportional עוקב חלק; ניתן לטייב Kp ומהירות.

### טיפים לפרומפטים מול Cursor

- ציינו ספרייה/קובץ יעד ושמות פורטים (A/B למנועים, F לחיישן — לפי בנייה).
- דווחו תוצאות מדויקות (נופל במעקף, מתנודד), ובקשו שינוי מדוד.
- איטרציות קצרות; commit כשהכול ירוק.

— סוף המדריך —


